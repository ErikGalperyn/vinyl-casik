# üéµ Playlists & Drag-and-Drop Feature

## ‚ú® –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### 1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ü–ª–µ–π–ª–∏—Å—Ç–∞–º–∏ (CRUD)**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º, –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ –æ–±–ª–æ–∂–∫–æ–π
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Å–µ–Ω –≤ –ø–ª–µ–π–ª–∏—Å—Ç—ã

### 2. **Drag & Drop –¥–ª—è –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏**
- ‚úÖ –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –ø–µ—Å–µ–Ω –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –≤ –ø–ª–µ–π–ª–∏—Å—Ç–µ
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (drag overlay)
- ‚úÖ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –≤ –ë–î

### 3. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –î–∏–∑–∞–π–Ω**
- üé® Glassmorphism —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- üé® –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –∏ –∞–Ω–∏–º–∞—Ü–∏–∏
- üé® –ö—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- üé® –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞
- üé® –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ hover-—ç—Ñ—Ñ–µ–∫—Ç—ã

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –°–æ–∑–¥–∞—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç
1. –ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É **"+ Create Playlist"** –≤ —Å–µ–∫—Ü–∏–∏ "My Playlists"
2. –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ URL –æ–±–ª–æ–∂–∫–∏
3. –ù–∞–∂–º–∏ **"Create Playlist"**

### –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Å–Ω—é –≤ –ø–ª–µ–π–ª–∏—Å—Ç
1. –ù–∞–π–¥–∏ –ø–µ—Å–Ω—é –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
2. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É **"+ Add to Playlist"**
3. –í—ã–±–µ—Ä–∏ –ø–ª–µ–π–ª–∏—Å—Ç –∏–∑ —Å–ø–∏—Å–∫–∞

### –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø–µ—Å–µ–Ω (Drag & Drop)
1. –û—Ç–∫—Ä–æ–π –ø–ª–µ–π–ª–∏—Å—Ç (–∫–ª–∏–∫–Ω–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –ø–ª–µ–π–ª–∏—Å—Ç–∞)
2. –°—Ö–≤–∞—Ç–∏ –ø–µ—Å–Ω—é –∑–∞ –∏–∫–æ–Ω–∫—É **‚ãÆ‚ãÆ** (—Å–ª–µ–≤–∞ –æ—Ç –æ–±–ª–æ–∂–∫–∏)
3. –ü–µ—Ä–µ—Ç–∞—â–∏ –Ω–∞ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ
4. –û—Ç–ø—É—Å—Ç–∏ - –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/–£–¥–∞–ª–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç
1. –ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞ –Ω–∞–∂–º–∏ **"Edit"** –∏–ª–∏ **"Delete"**
2. –î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - –∏–∑–º–µ–Ω–∏ –¥–∞–Ω–Ω—ã–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏
3. –î–ª—è —É–¥–∞–ª–µ–Ω–∏—è - –ø–æ–¥—Ç–≤–µ—Ä–¥–∏ –¥–µ–π—Å—Ç–≤–∏–µ

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Backend (Node.js + Express)
**–ù–æ–≤—ã–µ API endpoints:**
- `GET /playlists` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /playlists/:id` - –ø–æ–ª—É—á–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç —Å –ø–µ—Å–Ω—è–º–∏
- `POST /playlists` - —Å–æ–∑–¥–∞—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç
- `PUT /playlists/:id` - –æ–±–Ω–æ–≤–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç
- `DELETE /playlists/:id` - —É–¥–∞–ª–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç
- `POST /playlists/:id/songs` - –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Å–Ω—é
- `DELETE /playlists/:id/songs/:vinylId` - —É–¥–∞–ª–∏—Ç—å –ø–µ—Å–Ω—é
- `PUT /playlists/:id/reorder` - –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø–µ—Å–µ–Ω

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
```sql
-- –¢–∞–±–ª–∏—Ü–∞ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
playlists (
  id, name, description, cover_url, 
  owner_id, created_at, updated_at
)

-- –°–≤—è–∑—å –ø–µ—Å–µ–Ω —Å –ø–ª–µ–π–ª–∏—Å—Ç–∞–º–∏
playlist_songs (
  id, playlist_id, vinyl_id, 
  position, added_at
)
```

### Frontend (Next.js + React)
**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `@dnd-kit/core` - drag and drop —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- `@dnd-kit/sortable` - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- `@dnd-kit/utilities` - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è dnd-kit

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `SortableItem` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º–æ–π –ø–µ—Å–Ω–∏
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º –∏ drag-and-drop

### –°—Ç–∏–ª–∏
–î–æ–±–∞–≤–ª–µ–Ω—ã –≤ `global.css`:
- `.playlists-section` - —Å–µ–∫—Ü–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- `.playlist-card` - –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞
- `.playlist-detail` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
- `.modal-overlay` - –æ–≤–µ—Ä–ª–µ–π –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å backdrop-filter
- `.add-to-playlist-btn` - –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –ø–ª–µ–π–ª–∏—Å—Ç
- `.playlist-song-item` - —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Å–Ω–∏ —Å drag handle

## üìä –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã Drag & Drop

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ (onDragStart)
   ‚îî‚îÄ> setActiveId(songId) - —Å–æ—Ö—Ä–∞–Ω—è–µ–º ID –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º–æ–π –ø–µ—Å–Ω–∏

2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–¥ –¥—Ä—É–≥–∏–º
   ‚îî‚îÄ> DndContext –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é

3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—É—Å–∫–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç (onDragEnd)
   ‚îú‚îÄ> arrayMove() - –º–µ–Ω—è–µ–º –ø–æ—Ä—è–¥–æ–∫ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º state
   ‚îú‚îÄ> setSelectedPlaylist() - –æ–±–Ω–æ–≤–ª—è–µ–º UI —Å—Ä–∞–∑—É
   ‚îî‚îÄ> reorderPlaylist() API call - —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î
       ‚îî‚îÄ> –ü—Ä–∏ –æ—à–∏–±–∫–µ - –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
```

## üé® –î–∏–∑–∞–π–Ω-—Ñ–∏—á–∏

### –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã
```css
/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏ */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

/* –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

/* –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –ø–ª–µ–π–ª–∏—Å—Ç */
background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
```

### Glassmorphism
```css
background: rgba(255,255,255,0.95);
backdrop-filter: blur(20px);
box-shadow: 0 20px 60px rgba(0,0,0,0.3);
```

### –ê–Ω–∏–º–∞—Ü–∏–∏
- `@keyframes fadeIn` - –ø–æ—è–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
- `@keyframes slideUp` - –≤—ã–µ–∑–¥ —Å–Ω–∏–∑—É
- Hover —ç—Ñ—Ñ–µ–∫—Ç—ã —Å `transform: translateY(-4px)`
- Drag —ç—Ñ—Ñ–µ–∫—Ç —Å `opacity: 0.5`

## üîß –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç:
```bash
node backend/scripts/migrate-playlists.js
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```sql
-- –ó–∞–ø—É—Å—Ç–∏—Ç—å playlists-schema.sql
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –°–æ–∑–¥–∞—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç
```javascript
POST /playlists
{
  "name": "My Chill Vibes",
  "description": "Relaxing music for evening",
  "coverUrl": "https://..."
}
```

### –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Å–Ω—é
```javascript
POST /playlists/1/songs
{
  "vinylId": 5
}
```

### –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫
```javascript
PUT /playlists/1/reorder
{
  "songOrder": [3, 1, 5, 2] // –Ω–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ ID –ø–µ—Å–µ–Ω
}
```

## üéØ TODO / –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ü—É–±–ª–∏—á–Ω—ã–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã (sharing)
- [ ] –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤
- [ ] Drag & Drop –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –≤–∏–Ω–∏–ª–æ–≤–ø–ª–µ–π–ª–∏—Å—Ç
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –ø–ª–µ–π–ª–∏—Å—Ç–∞ (JSON/M3U)
- [ ] –ê–≤—Ç–æ–ø–ª–µ–π–ª–∏—Å—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∂–∞–Ω—Ä–æ–≤/–ª–∞–π–∫–æ–≤
- [ ] –û–±–ª–æ–∂–∫–∏ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –∏–∑ –ø–µ—Ä–≤—ã—Ö 4 –ø–µ—Å–µ–Ω
- [ ] Shuffle –∏ repeat –¥–ª—è –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏!**
